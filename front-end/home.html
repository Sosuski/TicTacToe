<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='stylesheet' href='home.css'>
    <title>Document</title>
</head>
<body>
    <h1>Home</h1>
    <!--Math.random().toString(36)
        QueryParameter
        --->
    <a class="button" href="/front-end/home.html?id=">Play</a>
    <div id="div">   
    </div>
    
      <script>
        const getUsers = async () => {
            const a = await fetch('http://localhost:8000/users',{method:'GET'}).then((res) => res.json());
            console.log(a)
            for(let i = 0; i < a.message.length; i++){
                const p = document.createElement("p");
                const divs = document.getElementById("div")
                p.innerText = (a.message[i]);
                divs.appendChild(p);
            }

        }
        const href = document.getElementsByClassName("button")[0]
        const attributeOutput = href.getAttribute("href");
        const queryParameter = Math.random().toString(36)
        href.setAttribute("href",attributeOutput+queryParameter)
        getUsers();
      </script>
</body>
</html>